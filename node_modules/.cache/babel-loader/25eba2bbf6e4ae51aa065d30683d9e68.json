{"ast":null,"code":"import _asyncToGenerator from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{auth,db}from\"../firebase-config\";import{deleteDoc,doc}from\"firebase/firestore\";import{Button,Card,Typography,makeStyles}from\"@material-ui/core\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({btn:{margin:10},post:{margin:40,padding:20},postHeader:{display:\"flex\",alignItems:\"center\"}});function PostCard(_ref){var isAuth=_ref.isAuth,post=_ref.post;var classes=useStyles();var deletePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var postDoc;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:postDoc=doc(db,\"posts\",id);_context.next=3;return deleteDoc(postDoc);case 3:case\"end\":return _context.stop();}}},_callee);}));return function deletePost(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Card,{className:classes.post,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.postHeader,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h2\",children:post.title}),isAuth&&auth.currentUser.uid===post.author.id&&/*#__PURE__*/_jsx(Button,{className:classes.btn,onClick:function onClick(){deletePost(post.id);},startIcon:/*#__PURE__*/_jsx(DeleteOutlineIcon,{}),children:\"Delete\"})]}),/*#__PURE__*/_jsx(Typography,{children:post.postText}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"@\",post.author.name]})]},post.id);}export default PostCard;","map":{"version":3,"sources":["/Users/Mike/Desktop/projects/blog-app/src/components/PostCard.js"],"names":["React","auth","db","deleteDoc","doc","Button","Card","Typography","makeStyles","DeleteOutlineIcon","useStyles","btn","margin","post","padding","postHeader","display","alignItems","PostCard","isAuth","classes","deletePost","id","postDoc","title","currentUser","uid","author","postText","name"],"mappings":"yPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,EAAf,KAAyB,oBAAzB,CACA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,oBAA/B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,UAAvB,CAAmCC,UAAnC,KAAqD,mBAArD,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGF,UAAU,CAAC,CACzBG,GAAG,CAAE,CACDC,MAAM,CAAE,EADP,CADoB,CAIzBC,IAAI,CAAE,CACFD,MAAM,CAAE,EADN,CAEFE,OAAO,CAAE,EAFP,CAJmB,CAQzBC,UAAU,CAAE,CACRC,OAAO,CAAE,MADD,CAERC,UAAU,CAAE,QAFJ,CARa,CAAD,CAA5B,CAcA,QAASC,CAAAA,QAAT,MAAkC,IAAfC,CAAAA,MAAe,MAAfA,MAAe,CAAPN,IAAO,MAAPA,IAAO,CAC9B,GAAMO,CAAAA,OAAO,CAAGV,SAAS,EAAzB,CAEA,GAAMW,CAAAA,UAAU,2FAAG,iBAAOC,EAAP,8HACTC,OADS,CACCnB,GAAG,CAACF,EAAD,CAAK,OAAL,CAAcoB,EAAd,CADJ,uBAETnB,CAAAA,SAAS,CAACoB,OAAD,CAFA,uDAAH,kBAAVF,CAAAA,UAAU,6CAAhB,CAKA,mBACI,MAAC,IAAD,EAAM,SAAS,CAAED,OAAO,CAACP,IAAzB,wBACI,aAAK,SAAS,CAAEO,OAAO,CAACL,UAAxB,wBACI,KAAC,UAAD,EACI,OAAO,CAAC,IADZ,CAEI,SAAS,CAAC,IAFd,UAIKF,IAAI,CAACW,KAJV,EADJ,CAOKL,MAAM,EAAIlB,IAAI,CAACwB,WAAL,CAAiBC,GAAjB,GAAyBb,IAAI,CAACc,MAAL,CAAYL,EAA/C,eACG,KAAC,MAAD,EACI,SAAS,CAAIF,OAAO,CAACT,GADzB,CAEI,OAAO,CAAE,kBAAM,CACXU,UAAU,CAACR,IAAI,CAACS,EAAN,CAAV,CACH,CAJL,CAKI,SAAS,cAAE,KAAC,iBAAD,IALf,oBARR,GADJ,cAoBI,KAAC,UAAD,WACKT,IAAI,CAACe,QADV,EApBJ,cAuBI,MAAC,UAAD,EACI,OAAO,CAAC,IADZ,eAGMf,IAAI,CAACc,MAAL,CAAYE,IAHlB,GAvBJ,GAAoChB,IAAI,CAACS,EAAzC,CADJ,CA+BH,CAED,cAAeJ,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport { auth, db } from \"../firebase-config\";\nimport { deleteDoc, doc } from \"firebase/firestore\";\nimport { Button, Card, Typography, makeStyles } from \"@material-ui/core\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nconst useStyles = makeStyles({\n    btn: {\n        margin: 10\n    }, \n    post: {\n        margin: 40,\n        padding: 20\n    },\n    postHeader: {\n        display: \"flex\",\n        alignItems: \"center\"\n    }\n});\n\nfunction PostCard({isAuth, post}) {\n    const classes = useStyles();\n\n    const deletePost = async (id) => {\n        const postDoc = doc(db, \"posts\", id)\n        await deleteDoc(postDoc);\n    }\n\n    return (\n        <Card className={classes.post} key={post.id}> \n            <div className={classes.postHeader}>\n                <Typography\n                    variant=\"h4\"\n                    component=\"h2\"\n                >   \n                    {post.title}\n                </Typography>\n                {isAuth && auth.currentUser.uid === post.author.id && (\n                    <Button \n                        className = {classes.btn}\n                        onClick={() => {\n                            deletePost(post.id)\n                        }}\n                        startIcon={<DeleteOutlineIcon/>}\n                    >\n                        Delete\n                    </Button>\n                )}   \n            </div>\n            <Typography>\n                {post.postText}\n            </Typography>\n            <Typography\n                variant=\"h6\"\n            >\n                @{post.author.name}\n            </Typography>\n        </Card>\n    );\n}\n\nexport default PostCard"]},"metadata":{},"sourceType":"module"}