{"ast":null,"code":"import _objectSpread from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/Mike/Desktop/projects/blog-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{collection,getDocs}from'firebase/firestore';import{db}from'../firebase-config';import Container from\"@material-ui/core/Container\";import PostCard from\"../components/PostCard\";import{jsx as _jsx}from\"react/jsx-runtime\";function Home(_ref){var isAuth=_ref.isAuth;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),postList=_useState2[0],setPostList=_useState2[1];var postsCollectionRef=collection(db,\"posts\");useEffect(function(){var getPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(postsCollectionRef);case 2:data=_context.sent;if(data.docs.length>0){setPostList(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getPosts(){return _ref2.apply(this,arguments);};}();getPosts();},[]);return/*#__PURE__*/_jsx(Container,{children:postList.map(function(post){return/*#__PURE__*/_jsx(PostCard,{isAuth:isAuth,post:post});})});}export default Home;","map":{"version":3,"sources":["/Users/Mike/Desktop/projects/blog-app/src/pages/Home.js"],"names":["React","useEffect","useState","collection","getDocs","db","Container","PostCard","Home","isAuth","postList","setPostList","postsCollectionRef","getPosts","data","docs","length","map","doc","id","post"],"mappings":"8eAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,OAArB,KAAoC,oBAApC,CACA,OAASC,EAAT,KAAmB,oBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,2CAEA,QAASC,CAAAA,IAAT,MAAwB,IAATC,CAAAA,MAAS,MAATA,MAAS,CACpB,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,kBAAkB,CAAGT,UAAU,CAACE,EAAD,CAAK,OAAL,CAArC,CAEAJ,SAAS,CAAC,UAAM,CACZ,GAAMY,CAAAA,QAAQ,2FAAG,kKACMT,CAAAA,OAAO,CAACQ,kBAAD,CADb,QACPE,IADO,eAEb,GAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,CAAmB,CAAvB,CAA0B,CACtBL,WAAW,CAACG,IAAI,CAACC,IAAL,CAAUE,GAAV,CAAc,SAACC,GAAD,wCAClBA,GAAG,CAACJ,IAAJ,EADkB,MACNK,EAAE,CAAED,GAAG,CAACC,EADF,IAAd,CAAD,CAAX,CAGH,CANY,sDAAH,kBAARN,CAAAA,QAAQ,2CAAd,CAQAA,QAAQ,GACX,CAVQ,CAUN,EAVM,CAAT,CAYA,mBACI,KAAC,SAAD,WACKH,QAAQ,CAACO,GAAT,CAAa,SAACG,IAAD,CAAU,CACpB,mBAAO,KAAC,QAAD,EAAU,MAAM,CAAEX,MAAlB,CAA0B,IAAI,CAAEW,IAAhC,EAAP,CACH,CAFA,CADL,EADJ,CAOH,CAED,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { collection, getDocs } from 'firebase/firestore';\nimport { db } from '../firebase-config'\nimport Container from \"@material-ui/core/Container\";\nimport PostCard from \"../components/PostCard\"\n\nfunction Home({isAuth}) {\n    const [postList, setPostList] = useState([]);\n    const postsCollectionRef = collection(db, \"posts\");\n\n    useEffect(() => {\n        const getPosts = async () => {\n            const data = await getDocs(postsCollectionRef);\n            if (data.docs.length > 0) {\n                setPostList(data.docs.map((doc) => (\n                    {...doc.data(), id: doc.id }\n                )));\n            }\n        };\n        getPosts();\n    }, [])\n\n    return (\n        <Container> \n            {postList.map((post) => {\n                return <PostCard isAuth={isAuth} post={post}/>\n            })} \n        </Container>\n    );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}